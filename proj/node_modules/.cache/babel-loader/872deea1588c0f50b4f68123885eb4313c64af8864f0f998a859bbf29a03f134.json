{"ast":null,"code":"var _jsxFileName = \"/Users/sydneysonday/Desktop/Senior/Reading Front End/senior-project/proj/src/components/BookReader.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { auth, saveHighlight, removeHighlight, getHighlights } from '../services/firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BookReader = () => {\n  _s();\n  const {\n    bookTitle\n  } = useParams();\n  const [highlights, setHighlights] = useState([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n  useEffect(() => {\n    if (bookTitle) {\n      loadHighlights();\n    }\n  }, [bookTitle]);\n  const loadHighlights = async () => {\n    try {\n      setIsLoading(true);\n      const {\n        highlights: savedHighlights,\n        error\n      } = await getHighlights(bookTitle);\n      if (error) {\n        console.error('Error loading highlights:', error);\n        return;\n      }\n      setHighlights(savedHighlights || []);\n\n      // Wait for content to be rendered before applying highlights\n      setTimeout(() => {\n        applyHighlights(savedHighlights || []);\n      }, 500);\n    } catch (err) {\n      console.error('Failed to load highlights:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleTextSelection = async () => {\n    const selection = window.getSelection();\n    const selectedText = selection.toString().trim();\n    if (!selectedText) return;\n    try {\n      // Get the content container\n      const contentContainer = document.querySelector('.book-content');\n      if (!contentContainer) return;\n      const range = selection.getRangeAt(0);\n\n      // Calculate relative positions\n      const containerRange = document.createRange();\n      containerRange.selectNodeContents(contentContainer);\n      const startOffset = getTextOffset(contentContainer, range.startContainer, range.startOffset);\n      const endOffset = getTextOffset(contentContainer, range.endContainer, range.endOffset);\n      const highlight = {\n        text: selectedText,\n        startOffset,\n        endOffset,\n        timestamp: new Date().toISOString()\n      };\n      const {\n        error: saveError\n      } = await saveHighlight(bookTitle, highlight);\n      if (saveError) {\n        setError(`Failed to save highlight: ${saveError}`);\n        return;\n      }\n      setHighlights(prev => [...prev, highlight]);\n      applyHighlight(highlight);\n    } catch (err) {\n      console.error('Failed to save highlight:', err);\n    }\n  };\n\n  // Get text offset relative to container\n  const getTextOffset = (container, targetNode, targetOffset) => {\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_TEXT, null, false);\n    let offset = 0;\n    let node;\n    while (node = walker.nextNode()) {\n      if (node === targetNode) {\n        return offset + targetOffset;\n      }\n      offset += node.textContent.length;\n    }\n    return offset;\n  };\n\n  // Get node and offset from text position\n  const getNodeAndOffsetAtPosition = (container, targetOffset) => {\n    const walker = document.createTreeWalker(container, NodeFilter.SHOW_TEXT, null, false);\n    let currentOffset = 0;\n    let node;\n    while (node = walker.nextNode()) {\n      const nodeLength = node.textContent.length;\n      if (currentOffset + nodeLength >= targetOffset) {\n        return {\n          node,\n          offset: targetOffset - currentOffset\n        };\n      }\n      currentOffset += nodeLength;\n    }\n    return null;\n  };\n  const applyHighlight = highlight => {\n    try {\n      const contentContainer = document.querySelector('.book-content');\n      if (!contentContainer) return;\n      const start = getNodeAndOffsetAtPosition(contentContainer, highlight.startOffset);\n      const end = getNodeAndOffsetAtPosition(contentContainer, highlight.endOffset);\n      if (!start || !end) {\n        console.warn('Could not find text positions for highlight:', highlight);\n        return;\n      }\n      const range = document.createRange();\n      range.setStart(start.node, start.offset);\n      range.setEnd(end.node, end.offset);\n      const span = document.createElement('span');\n      span.className = 'highlighted-text';\n      span.dataset.timestamp = highlight.timestamp;\n      try {\n        range.surroundContents(span);\n      } catch (e) {\n        console.warn('Could not surround range:', e);\n      }\n    } catch (err) {\n      console.error('Failed to apply highlight:', err);\n    }\n  };\n  const applyHighlights = highlightsToApply => {\n    // Remove existing highlights\n    document.querySelectorAll('.highlighted-text').forEach(el => {\n      const parent = el.parentNode;\n      while (el.firstChild) parent.insertBefore(el.firstChild, el);\n      parent.removeChild(el);\n    });\n\n    // Apply each highlight\n    highlightsToApply.forEach(highlight => {\n      applyHighlight(highlight);\n    });\n  };\n  const handleRemoveHighlight = async event => {\n    if (!event.target.classList.contains('highlighted-text')) return;\n    const timestamp = event.target.dataset.timestamp;\n    const highlightToRemove = highlights.find(h => h.timestamp === timestamp);\n    if (!highlightToRemove) return;\n    try {\n      const {\n        error\n      } = await removeHighlight(bookTitle, highlightToRemove);\n      if (error) {\n        setError(`Failed to remove highlight: ${error}`);\n        return;\n      }\n      setHighlights(prev => prev.filter(h => h.timestamp !== timestamp));\n\n      // Remove highlight span\n      const parent = event.target.parentNode;\n      while (event.target.firstChild) {\n        parent.insertBefore(event.target.firstChild, event.target);\n      }\n      parent.removeChild(event.target);\n    } catch (err) {\n      console.error('Failed to remove highlight:', err);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"book-reader\",\n    children: [error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: bookTitle\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"book-content\",\n      onMouseUp: handleTextSelection,\n      onClick: handleRemoveHighlight,\n      children: \"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 202,\n    columnNumber: 5\n  }, this);\n};\n_s(BookReader, \"kmrzOSQLJg1U2nLtmJqaGFVQ1ts=\", false, function () {\n  return [useParams];\n});\n_c = BookReader;\nexport default BookReader;\nvar _c;\n$RefreshReg$(_c, \"BookReader\");","map":{"version":3,"names":["React","useState","useEffect","useParams","auth","saveHighlight","removeHighlight","getHighlights","jsxDEV","_jsxDEV","BookReader","_s","bookTitle","highlights","setHighlights","error","setError","isLoading","setIsLoading","loadHighlights","savedHighlights","console","setTimeout","applyHighlights","err","handleTextSelection","selection","window","getSelection","selectedText","toString","trim","contentContainer","document","querySelector","range","getRangeAt","containerRange","createRange","selectNodeContents","startOffset","getTextOffset","startContainer","endOffset","endContainer","highlight","text","timestamp","Date","toISOString","saveError","prev","applyHighlight","container","targetNode","targetOffset","walker","createTreeWalker","NodeFilter","SHOW_TEXT","offset","node","nextNode","textContent","length","getNodeAndOffsetAtPosition","currentOffset","nodeLength","start","end","warn","setStart","setEnd","span","createElement","className","dataset","surroundContents","e","highlightsToApply","querySelectorAll","forEach","el","parent","parentNode","firstChild","insertBefore","removeChild","handleRemoveHighlight","event","target","classList","contains","highlightToRemove","find","h","filter","children","fileName","_jsxFileName","lineNumber","columnNumber","onMouseUp","onClick","_c","$RefreshReg$"],"sources":["/Users/sydneysonday/Desktop/Senior/Reading Front End/senior-project/proj/src/components/BookReader.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { auth, saveHighlight, removeHighlight, getHighlights } from '../services/firebase';\n\nconst BookReader = () => {\n  const { bookTitle } = useParams();\n  const [highlights, setHighlights] = useState([]);\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    if (bookTitle) {\n      loadHighlights();\n    }\n  }, [bookTitle]);\n\n  const loadHighlights = async () => {\n    try {\n      setIsLoading(true);\n      const { highlights: savedHighlights, error } = await getHighlights(bookTitle);\n      \n      if (error) {\n        console.error('Error loading highlights:', error);\n        return;\n      }\n\n      setHighlights(savedHighlights || []);\n      \n      // Wait for content to be rendered before applying highlights\n      setTimeout(() => {\n        applyHighlights(savedHighlights || []);\n      }, 500);\n    } catch (err) {\n      console.error('Failed to load highlights:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleTextSelection = async () => {\n    const selection = window.getSelection();\n    const selectedText = selection.toString().trim();\n\n    if (!selectedText) return;\n\n    try {\n      // Get the content container\n      const contentContainer = document.querySelector('.book-content');\n      if (!contentContainer) return;\n\n      const range = selection.getRangeAt(0);\n      \n      // Calculate relative positions\n      const containerRange = document.createRange();\n      containerRange.selectNodeContents(contentContainer);\n      \n      const startOffset = getTextOffset(contentContainer, range.startContainer, range.startOffset);\n      const endOffset = getTextOffset(contentContainer, range.endContainer, range.endOffset);\n\n      const highlight = {\n        text: selectedText,\n        startOffset,\n        endOffset,\n        timestamp: new Date().toISOString()\n      };\n\n      const { error: saveError } = await saveHighlight(bookTitle, highlight);\n      \n      if (saveError) {\n        setError(`Failed to save highlight: ${saveError}`);\n        return;\n      }\n\n      setHighlights(prev => [...prev, highlight]);\n      applyHighlight(highlight);\n    } catch (err) {\n      console.error('Failed to save highlight:', err);\n    }\n  };\n\n  // Get text offset relative to container\n  const getTextOffset = (container, targetNode, targetOffset) => {\n    const walker = document.createTreeWalker(\n      container,\n      NodeFilter.SHOW_TEXT,\n      null,\n      false\n    );\n\n    let offset = 0;\n    let node;\n\n    while ((node = walker.nextNode())) {\n      if (node === targetNode) {\n        return offset + targetOffset;\n      }\n      offset += node.textContent.length;\n    }\n    return offset;\n  };\n\n  // Get node and offset from text position\n  const getNodeAndOffsetAtPosition = (container, targetOffset) => {\n    const walker = document.createTreeWalker(\n      container,\n      NodeFilter.SHOW_TEXT,\n      null,\n      false\n    );\n\n    let currentOffset = 0;\n    let node;\n\n    while ((node = walker.nextNode())) {\n      const nodeLength = node.textContent.length;\n      if (currentOffset + nodeLength >= targetOffset) {\n        return {\n          node,\n          offset: targetOffset - currentOffset\n        };\n      }\n      currentOffset += nodeLength;\n    }\n\n    return null;\n  };\n\n  const applyHighlight = (highlight) => {\n    try {\n      const contentContainer = document.querySelector('.book-content');\n      if (!contentContainer) return;\n\n      const start = getNodeAndOffsetAtPosition(contentContainer, highlight.startOffset);\n      const end = getNodeAndOffsetAtPosition(contentContainer, highlight.endOffset);\n\n      if (!start || !end) {\n        console.warn('Could not find text positions for highlight:', highlight);\n        return;\n      }\n\n      const range = document.createRange();\n      range.setStart(start.node, start.offset);\n      range.setEnd(end.node, end.offset);\n\n      const span = document.createElement('span');\n      span.className = 'highlighted-text';\n      span.dataset.timestamp = highlight.timestamp;\n\n      try {\n        range.surroundContents(span);\n      } catch (e) {\n        console.warn('Could not surround range:', e);\n      }\n    } catch (err) {\n      console.error('Failed to apply highlight:', err);\n    }\n  };\n\n  const applyHighlights = (highlightsToApply) => {\n    // Remove existing highlights\n    document.querySelectorAll('.highlighted-text').forEach(el => {\n      const parent = el.parentNode;\n      while (el.firstChild) parent.insertBefore(el.firstChild, el);\n      parent.removeChild(el);\n    });\n\n    // Apply each highlight\n    highlightsToApply.forEach(highlight => {\n      applyHighlight(highlight);\n    });\n  };\n\n  const handleRemoveHighlight = async (event) => {\n    if (!event.target.classList.contains('highlighted-text')) return;\n    \n    const timestamp = event.target.dataset.timestamp;\n    const highlightToRemove = highlights.find(h => h.timestamp === timestamp);\n    \n    if (!highlightToRemove) return;\n\n    try {\n      const { error } = await removeHighlight(bookTitle, highlightToRemove);\n      if (error) {\n        setError(`Failed to remove highlight: ${error}`);\n        return;\n      }\n\n      setHighlights(prev => prev.filter(h => h.timestamp !== timestamp));\n      \n      // Remove highlight span\n      const parent = event.target.parentNode;\n      while (event.target.firstChild) {\n        parent.insertBefore(event.target.firstChild, event.target);\n      }\n      parent.removeChild(event.target);\n    } catch (err) {\n      console.error('Failed to remove highlight:', err);\n    }\n  };\n\n  return (\n    <div className=\"book-reader\">\n      {error && <div className=\"error-message\">{error}</div>}\n      <h1>{bookTitle}</h1>\n      <div \n        className=\"book-content\"\n        onMouseUp={handleTextSelection}\n        onClick={handleRemoveHighlight}\n      >\n        {/* Your book content here */}\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor \n        incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis \n        nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.\n      </div>\n    </div>\n  );\n};\n\nexport default BookReader;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,QAAQ,kBAAkB;AAC5C,SAASC,IAAI,EAAEC,aAAa,EAAEC,eAAe,EAAEC,aAAa,QAAQ,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE3F,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM;IAAEC;EAAU,CAAC,GAAGT,SAAS,CAAC,CAAC;EACjC,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACgB,SAAS,EAAEC,YAAY,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EAEhDC,SAAS,CAAC,MAAM;IACd,IAAIU,SAAS,EAAE;MACbO,cAAc,CAAC,CAAC;IAClB;EACF,CAAC,EAAE,CAACP,SAAS,CAAC,CAAC;EAEf,MAAMO,cAAc,GAAG,MAAAA,CAAA,KAAY;IACjC,IAAI;MACFD,YAAY,CAAC,IAAI,CAAC;MAClB,MAAM;QAAEL,UAAU,EAAEO,eAAe;QAAEL;MAAM,CAAC,GAAG,MAAMR,aAAa,CAACK,SAAS,CAAC;MAE7E,IAAIG,KAAK,EAAE;QACTM,OAAO,CAACN,KAAK,CAAC,2BAA2B,EAAEA,KAAK,CAAC;QACjD;MACF;MAEAD,aAAa,CAACM,eAAe,IAAI,EAAE,CAAC;;MAEpC;MACAE,UAAU,CAAC,MAAM;QACfC,eAAe,CAACH,eAAe,IAAI,EAAE,CAAC;MACxC,CAAC,EAAE,GAAG,CAAC;IACT,CAAC,CAAC,OAAOI,GAAG,EAAE;MACZH,OAAO,CAACN,KAAK,CAAC,4BAA4B,EAAES,GAAG,CAAC;IAClD,CAAC,SAAS;MACRN,YAAY,CAAC,KAAK,CAAC;IACrB;EACF,CAAC;EAED,MAAMO,mBAAmB,GAAG,MAAAA,CAAA,KAAY;IACtC,MAAMC,SAAS,GAAGC,MAAM,CAACC,YAAY,CAAC,CAAC;IACvC,MAAMC,YAAY,GAAGH,SAAS,CAACI,QAAQ,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC;IAEhD,IAAI,CAACF,YAAY,EAAE;IAEnB,IAAI;MACF;MACA,MAAMG,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;MAChE,IAAI,CAACF,gBAAgB,EAAE;MAEvB,MAAMG,KAAK,GAAGT,SAAS,CAACU,UAAU,CAAC,CAAC,CAAC;;MAErC;MACA,MAAMC,cAAc,GAAGJ,QAAQ,CAACK,WAAW,CAAC,CAAC;MAC7CD,cAAc,CAACE,kBAAkB,CAACP,gBAAgB,CAAC;MAEnD,MAAMQ,WAAW,GAAGC,aAAa,CAACT,gBAAgB,EAAEG,KAAK,CAACO,cAAc,EAAEP,KAAK,CAACK,WAAW,CAAC;MAC5F,MAAMG,SAAS,GAAGF,aAAa,CAACT,gBAAgB,EAAEG,KAAK,CAACS,YAAY,EAAET,KAAK,CAACQ,SAAS,CAAC;MAEtF,MAAME,SAAS,GAAG;QAChBC,IAAI,EAAEjB,YAAY;QAClBW,WAAW;QACXG,SAAS;QACTI,SAAS,EAAE,IAAIC,IAAI,CAAC,CAAC,CAACC,WAAW,CAAC;MACpC,CAAC;MAED,MAAM;QAAElC,KAAK,EAAEmC;MAAU,CAAC,GAAG,MAAM7C,aAAa,CAACO,SAAS,EAAEiC,SAAS,CAAC;MAEtE,IAAIK,SAAS,EAAE;QACblC,QAAQ,CAAC,6BAA6BkC,SAAS,EAAE,CAAC;QAClD;MACF;MAEApC,aAAa,CAACqC,IAAI,IAAI,CAAC,GAAGA,IAAI,EAAEN,SAAS,CAAC,CAAC;MAC3CO,cAAc,CAACP,SAAS,CAAC;IAC3B,CAAC,CAAC,OAAOrB,GAAG,EAAE;MACZH,OAAO,CAACN,KAAK,CAAC,2BAA2B,EAAES,GAAG,CAAC;IACjD;EACF,CAAC;;EAED;EACA,MAAMiB,aAAa,GAAGA,CAACY,SAAS,EAAEC,UAAU,EAAEC,YAAY,KAAK;IAC7D,MAAMC,MAAM,GAAGvB,QAAQ,CAACwB,gBAAgB,CACtCJ,SAAS,EACTK,UAAU,CAACC,SAAS,EACpB,IAAI,EACJ,KACF,CAAC;IAED,IAAIC,MAAM,GAAG,CAAC;IACd,IAAIC,IAAI;IAER,OAAQA,IAAI,GAAGL,MAAM,CAACM,QAAQ,CAAC,CAAC,EAAG;MACjC,IAAID,IAAI,KAAKP,UAAU,EAAE;QACvB,OAAOM,MAAM,GAAGL,YAAY;MAC9B;MACAK,MAAM,IAAIC,IAAI,CAACE,WAAW,CAACC,MAAM;IACnC;IACA,OAAOJ,MAAM;EACf,CAAC;;EAED;EACA,MAAMK,0BAA0B,GAAGA,CAACZ,SAAS,EAAEE,YAAY,KAAK;IAC9D,MAAMC,MAAM,GAAGvB,QAAQ,CAACwB,gBAAgB,CACtCJ,SAAS,EACTK,UAAU,CAACC,SAAS,EACpB,IAAI,EACJ,KACF,CAAC;IAED,IAAIO,aAAa,GAAG,CAAC;IACrB,IAAIL,IAAI;IAER,OAAQA,IAAI,GAAGL,MAAM,CAACM,QAAQ,CAAC,CAAC,EAAG;MACjC,MAAMK,UAAU,GAAGN,IAAI,CAACE,WAAW,CAACC,MAAM;MAC1C,IAAIE,aAAa,GAAGC,UAAU,IAAIZ,YAAY,EAAE;QAC9C,OAAO;UACLM,IAAI;UACJD,MAAM,EAAEL,YAAY,GAAGW;QACzB,CAAC;MACH;MACAA,aAAa,IAAIC,UAAU;IAC7B;IAEA,OAAO,IAAI;EACb,CAAC;EAED,MAAMf,cAAc,GAAIP,SAAS,IAAK;IACpC,IAAI;MACF,MAAMb,gBAAgB,GAAGC,QAAQ,CAACC,aAAa,CAAC,eAAe,CAAC;MAChE,IAAI,CAACF,gBAAgB,EAAE;MAEvB,MAAMoC,KAAK,GAAGH,0BAA0B,CAACjC,gBAAgB,EAAEa,SAAS,CAACL,WAAW,CAAC;MACjF,MAAM6B,GAAG,GAAGJ,0BAA0B,CAACjC,gBAAgB,EAAEa,SAAS,CAACF,SAAS,CAAC;MAE7E,IAAI,CAACyB,KAAK,IAAI,CAACC,GAAG,EAAE;QAClBhD,OAAO,CAACiD,IAAI,CAAC,8CAA8C,EAAEzB,SAAS,CAAC;QACvE;MACF;MAEA,MAAMV,KAAK,GAAGF,QAAQ,CAACK,WAAW,CAAC,CAAC;MACpCH,KAAK,CAACoC,QAAQ,CAACH,KAAK,CAACP,IAAI,EAAEO,KAAK,CAACR,MAAM,CAAC;MACxCzB,KAAK,CAACqC,MAAM,CAACH,GAAG,CAACR,IAAI,EAAEQ,GAAG,CAACT,MAAM,CAAC;MAElC,MAAMa,IAAI,GAAGxC,QAAQ,CAACyC,aAAa,CAAC,MAAM,CAAC;MAC3CD,IAAI,CAACE,SAAS,GAAG,kBAAkB;MACnCF,IAAI,CAACG,OAAO,CAAC7B,SAAS,GAAGF,SAAS,CAACE,SAAS;MAE5C,IAAI;QACFZ,KAAK,CAAC0C,gBAAgB,CAACJ,IAAI,CAAC;MAC9B,CAAC,CAAC,OAAOK,CAAC,EAAE;QACVzD,OAAO,CAACiD,IAAI,CAAC,2BAA2B,EAAEQ,CAAC,CAAC;MAC9C;IACF,CAAC,CAAC,OAAOtD,GAAG,EAAE;MACZH,OAAO,CAACN,KAAK,CAAC,4BAA4B,EAAES,GAAG,CAAC;IAClD;EACF,CAAC;EAED,MAAMD,eAAe,GAAIwD,iBAAiB,IAAK;IAC7C;IACA9C,QAAQ,CAAC+C,gBAAgB,CAAC,mBAAmB,CAAC,CAACC,OAAO,CAACC,EAAE,IAAI;MAC3D,MAAMC,MAAM,GAAGD,EAAE,CAACE,UAAU;MAC5B,OAAOF,EAAE,CAACG,UAAU,EAAEF,MAAM,CAACG,YAAY,CAACJ,EAAE,CAACG,UAAU,EAAEH,EAAE,CAAC;MAC5DC,MAAM,CAACI,WAAW,CAACL,EAAE,CAAC;IACxB,CAAC,CAAC;;IAEF;IACAH,iBAAiB,CAACE,OAAO,CAACpC,SAAS,IAAI;MACrCO,cAAc,CAACP,SAAS,CAAC;IAC3B,CAAC,CAAC;EACJ,CAAC;EAED,MAAM2C,qBAAqB,GAAG,MAAOC,KAAK,IAAK;IAC7C,IAAI,CAACA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,kBAAkB,CAAC,EAAE;IAE1D,MAAM7C,SAAS,GAAG0C,KAAK,CAACC,MAAM,CAACd,OAAO,CAAC7B,SAAS;IAChD,MAAM8C,iBAAiB,GAAGhF,UAAU,CAACiF,IAAI,CAACC,CAAC,IAAIA,CAAC,CAAChD,SAAS,KAAKA,SAAS,CAAC;IAEzE,IAAI,CAAC8C,iBAAiB,EAAE;IAExB,IAAI;MACF,MAAM;QAAE9E;MAAM,CAAC,GAAG,MAAMT,eAAe,CAACM,SAAS,EAAEiF,iBAAiB,CAAC;MACrE,IAAI9E,KAAK,EAAE;QACTC,QAAQ,CAAC,+BAA+BD,KAAK,EAAE,CAAC;QAChD;MACF;MAEAD,aAAa,CAACqC,IAAI,IAAIA,IAAI,CAAC6C,MAAM,CAACD,CAAC,IAAIA,CAAC,CAAChD,SAAS,KAAKA,SAAS,CAAC,CAAC;;MAElE;MACA,MAAMoC,MAAM,GAAGM,KAAK,CAACC,MAAM,CAACN,UAAU;MACtC,OAAOK,KAAK,CAACC,MAAM,CAACL,UAAU,EAAE;QAC9BF,MAAM,CAACG,YAAY,CAACG,KAAK,CAACC,MAAM,CAACL,UAAU,EAAEI,KAAK,CAACC,MAAM,CAAC;MAC5D;MACAP,MAAM,CAACI,WAAW,CAACE,KAAK,CAACC,MAAM,CAAC;IAClC,CAAC,CAAC,OAAOlE,GAAG,EAAE;MACZH,OAAO,CAACN,KAAK,CAAC,6BAA6B,EAAES,GAAG,CAAC;IACnD;EACF,CAAC;EAED,oBACEf,OAAA;IAAKkE,SAAS,EAAC,aAAa;IAAAsB,QAAA,GACzBlF,KAAK,iBAAIN,OAAA;MAAKkE,SAAS,EAAC,eAAe;MAAAsB,QAAA,EAAElF;IAAK;MAAAmF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACtD5F,OAAA;MAAAwF,QAAA,EAAKrF;IAAS;MAAAsF,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,eACpB5F,OAAA;MACEkE,SAAS,EAAC,cAAc;MACxB2B,SAAS,EAAE7E,mBAAoB;MAC/B8E,OAAO,EAAEf,qBAAsB;MAAAS,QAAA,EAED;IAIhC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAAC1F,EAAA,CApNID,UAAU;EAAA,QACQP,SAAS;AAAA;AAAAqG,EAAA,GAD3B9F,UAAU;AAsNhB,eAAeA,UAAU;AAAC,IAAA8F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}