{"ast":null,"code":"import { initializeApp } from 'firebase/app';\nimport { getAuth, signInWithEmailAndPassword, createUserWithEmailAndPassword, signOut, updateProfile } from 'firebase/auth';\nimport { getFirestore, doc, setDoc, getDoc, collection, addDoc, updateDoc, arrayUnion, arrayRemove } from 'firebase/firestore';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDpsag3KQcOyzTiR9Xc_w-yPXnuEyrjtDg\",\n  authDomain: \"ccel-tools.firebaseapp.com\",\n  projectId: \"ccel-tools\",\n  storageBucket: \"ccel-tools.appspot.com\",\n  messagingSenderId: \"653125521567\",\n  appId: \"1:653125521567:web:764b7432f36532279e52aa\",\n  measurementId: \"G-2ZV6ELGWJR\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\n\n// Authentication functions\nexport const loginWithEmailAndPassword = async (email, password) => {\n  try {\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\n    return {\n      user: userCredential.user,\n      error: null\n    };\n  } catch (error) {\n    return {\n      user: null,\n      error: error.message\n    };\n  }\n};\nexport const registerWithEmailAndPassword = async (email, password) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    return {\n      user: userCredential.user,\n      error: null\n    };\n  } catch (error) {\n    return {\n      user: null,\n      error: error.message\n    };\n  }\n};\nexport const logoutUser = async () => {\n  try {\n    await signOut(auth);\n    return {\n      error: null\n    };\n  } catch (error) {\n    return {\n      error: error.message\n    };\n  }\n};\n\n// Highlights functions\nexport const saveHighlight = async (userId, bookId, highlight) => {\n  try {\n    const highlightRef = doc(db, 'users', userId, 'books', bookId);\n\n    // Get existing document\n    const docSnap = await getDoc(highlightRef);\n    if (docSnap.exists()) {\n      // Update existing highlights\n      await updateDoc(highlightRef, {\n        highlights: arrayUnion(highlight)\n      });\n    } else {\n      // Create new document with highlights\n      await setDoc(highlightRef, {\n        highlights: [highlight]\n      });\n    }\n    return {\n      error: null\n    };\n  } catch (error) {\n    return {\n      error: error.message\n    };\n  }\n};\nexport const removeHighlight = async (userId, bookId, highlight) => {\n  try {\n    const highlightRef = doc(db, 'users', userId, 'books', bookId);\n    await updateDoc(highlightRef, {\n      highlights: arrayRemove(highlight)\n    });\n    return {\n      error: null\n    };\n  } catch (error) {\n    return {\n      error: error.message\n    };\n  }\n};\nexport const getHighlights = async (userId, bookId) => {\n  try {\n    const highlightRef = doc(db, 'users', userId, 'books', bookId);\n    const docSnap = await getDoc(highlightRef);\n    if (docSnap.exists()) {\n      return {\n        highlights: docSnap.data().highlights,\n        error: null\n      };\n    } else {\n      return {\n        highlights: [],\n        error: null\n      };\n    }\n  } catch (error) {\n    return {\n      highlights: [],\n      error: error.message\n    };\n  }\n};","map":{"version":3,"names":["initializeApp","getAuth","signInWithEmailAndPassword","createUserWithEmailAndPassword","signOut","updateProfile","getFirestore","doc","setDoc","getDoc","collection","addDoc","updateDoc","arrayUnion","arrayRemove","firebaseConfig","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","app","auth","db","loginWithEmailAndPassword","email","password","userCredential","user","error","message","registerWithEmailAndPassword","logoutUser","saveHighlight","userId","bookId","highlight","highlightRef","docSnap","exists","highlights","removeHighlight","getHighlights","data"],"sources":["/Users/sydneysonday/Desktop/Senior/Reading Front End/senior-project/proj/src/services/firebase.js"],"sourcesContent":["import { initializeApp } from 'firebase/app';\nimport { \n  getAuth, \n  signInWithEmailAndPassword,\n  createUserWithEmailAndPassword,\n  signOut,\n  updateProfile \n} from 'firebase/auth';\nimport { \n  getFirestore, \n  doc, \n  setDoc, \n  getDoc, \n  collection, \n  addDoc,\n  updateDoc,\n  arrayUnion,\n  arrayRemove \n} from 'firebase/firestore';\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDpsag3KQcOyzTiR9Xc_w-yPXnuEyrjtDg\",\n  authDomain: \"ccel-tools.firebaseapp.com\",\n  projectId: \"ccel-tools\",\n  storageBucket: \"ccel-tools.appspot.com\",\n  messagingSenderId: \"653125521567\",\n  appId: \"1:653125521567:web:764b7432f36532279e52aa\",\n  measurementId: \"G-2ZV6ELGWJR\"\n};\n\n// Initialize Firebase\nconst app = initializeApp(firebaseConfig);\nexport const auth = getAuth(app);\nexport const db = getFirestore(app);\n\n// Authentication functions\nexport const loginWithEmailAndPassword = async (email, password) => {\n  try {\n    const userCredential = await signInWithEmailAndPassword(auth, email, password);\n    return { user: userCredential.user, error: null };\n  } catch (error) {\n    return { user: null, error: error.message };\n  }\n};\n\nexport const registerWithEmailAndPassword = async (email, password) => {\n  try {\n    const userCredential = await createUserWithEmailAndPassword(auth, email, password);\n    return { user: userCredential.user, error: null };\n  } catch (error) {\n    return { user: null, error: error.message };\n  }\n};\n\nexport const logoutUser = async () => {\n  try {\n    await signOut(auth);\n    return { error: null };\n  } catch (error) {\n    return { error: error.message };\n  }\n};\n\n// Highlights functions\nexport const saveHighlight = async (userId, bookId, highlight) => {\n    try {\n      const highlightRef = doc(db, 'users', userId, 'books', bookId);\n      \n      // Get existing document\n      const docSnap = await getDoc(highlightRef);\n      \n      if (docSnap.exists()) {\n        // Update existing highlights\n        await updateDoc(highlightRef, {\n          highlights: arrayUnion(highlight)\n        });\n      } else {\n        // Create new document with highlights\n        await setDoc(highlightRef, {\n          highlights: [highlight]\n        });\n      }\n      \n      return { error: null };\n    } catch (error) {\n      return { error: error.message };\n    }\n  };\n  \n  export const removeHighlight = async (userId, bookId, highlight) => {\n    try {\n      const highlightRef = doc(db, 'users', userId, 'books', bookId);\n      \n      await updateDoc(highlightRef, {\n        highlights: arrayRemove(highlight)\n      });\n      \n      return { error: null };\n    } catch (error) {\n      return { error: error.message };\n    }\n  };\n  \n  export const getHighlights = async (userId, bookId) => {\n    try {\n      const highlightRef = doc(db, 'users', userId, 'books', bookId);\n      const docSnap = await getDoc(highlightRef);\n      \n      if (docSnap.exists()) {\n        return { highlights: docSnap.data().highlights, error: null };\n      } else {\n        return { highlights: [], error: null };\n      }\n    } catch (error) {\n      return { highlights: [], error: error.message };\n    }\n  };"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}